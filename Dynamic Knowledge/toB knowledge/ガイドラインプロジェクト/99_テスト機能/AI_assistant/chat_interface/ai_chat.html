<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ - Harukaze</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f5f5f5;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            font-size: 1.5em;
            margin: 0;
        }
        
        .chat-container {
            flex: 1;
            display: flex;
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .sidebar {
            width: 300px;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
            padding: 20px;
            overflow-y: auto;
        }
        
        .sidebar h2 {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #495057;
        }
        
        .quick-topics {
            list-style: none;
        }
        
        .quick-topics li {
            margin-bottom: 10px;
        }
        
        .quick-topics button {
            width: 100%;
            text-align: left;
            padding: 10px 15px;
            border: 1px solid #dee2e6;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quick-topics button:hover {
            background-color: #e9ecef;
            border-color: #adb5bd;
        }
        
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #fafafa;
        }
        
        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }
        
        .message.ai .message-avatar {
            background-color: #3498db;
        }
        
        .message.user .message-avatar {
            background-color: #27ae60;
        }
        
        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 10px;
            background: white;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        
        .message.user .message-content {
            background-color: #e3f2fd;
        }
        
        .input-area {
            padding: 20px;
            border-top: 1px solid #dee2e6;
            background: white;
        }
        
        .input-container {
            display: flex;
            gap: 10px;
        }
        
        #userInput {
            flex: 1;
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 14px;
            resize: none;
        }
        
        #sendButton {
            padding: 12px 24px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        #sendButton:hover {
            background-color: #2980b9;
        }
        
        #sendButton:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }
        
        .typing-indicator {
            display: none;
            padding: 10px 15px;
            background-color: #e9ecef;
            border-radius: 10px;
            margin-bottom: 10px;
            width: fit-content;
        }
        
        .typing-indicator.show {
            display: block;
        }
        
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #6c757d;
            margin-right: 3px;
            animation: typing 1.4s infinite;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }
        
        .back-link {
            display: inline-block;
            margin: 10px 20px;
            color: #3498db;
            text-decoration: none;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            
            .message-content {
                max-width: 85%;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¤– ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼ˆãƒ†ã‚¹ãƒˆç‰ˆï¼‰</h1>
    </div>
    
    <a href="../../../test_output/index.html" class="back-link">â† ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã«æˆ»ã‚‹</a>
    
    <div class="chat-container">
        <div class="sidebar">
            <h2>ã‚ˆãã‚ã‚‹è³ªå•</h2>
            <ul class="quick-topics">
                <li><button onclick="askQuestion('ç´æœŸãŒé…ã‚Œãã†ãªæ™‚ã®å¯¾å‡¦æ³•')">ç´æœŸãŒé…ã‚Œãã†ãªæ™‚</button></li>
                <li><button onclick="askQuestion('ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã¨ã®åŠ¹æœçš„ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ–¹æ³•')">ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã¨ã®é€£æº</button></li>
                <li><button onclick="askQuestion('ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¯¾å¿œ')">ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¯¾å¿œ</button></li>
                <li><button onclick="askQuestion('å“è³ªãƒã‚§ãƒƒã‚¯ã®ãƒã‚¤ãƒ³ãƒˆ')">å“è³ªãƒã‚§ãƒƒã‚¯</button></li>
                <li><button onclick="askQuestion('ãƒˆãƒ©ãƒ–ãƒ«æ™‚ã®ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³')">ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</button></li>
            </ul>
        </div>
        
        <div class="chat-area">
            <div class="messages" id="messages">
                <div class="message ai">
                    <div class="message-avatar">AI</div>
                    <div class="message-content">
                        ã“ã‚“ã«ã¡ã¯ï¼Harukazeã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã®ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚<br>
                        ãƒ‡ã‚£ãƒ¬ã‚¯ã‚¿ãƒ¼æ¥­å‹™ã«ã¤ã„ã¦ã€ãŠæ°—è»½ã«ã”è³ªå•ãã ã•ã„ã€‚<br><br>
                        ä¾‹ï¼šã€Œç´æœŸèª¿æ•´ã®ã‚³ãƒ„ã¯ï¼Ÿã€ã€Œå“è³ªãƒã‚§ãƒƒã‚¯ã®ãƒã‚¤ãƒ³ãƒˆã‚’æ•™ãˆã¦ã€ãªã©
                    </div>
                </div>
            </div>
            
            <div class="typing-indicator" id="typingIndicator">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <div class="input-area">
                <div class="input-container">
                    <textarea id="userInput" 
                             placeholder="è³ªå•ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..." 
                             rows="2"
                             onkeypress="handleKeyPress(event)"></textarea>
                    <button id="sendButton" onclick="sendMessage()">é€ä¿¡</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // AIã®å›ç­”ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯å¤–éƒ¨APIã‚’ä½¿ç”¨ï¼‰
        const aiResponses = {
            'ç´æœŸ': {
                keywords: ['ç´æœŸ', 'é…ã‚Œ', 'ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«', 'ç· åˆ‡'],
                response: `ç´æœŸã«é–¢ã™ã‚‹ãŠæ‚©ã¿ã§ã™ã­ã€‚ä»¥ä¸‹ã®ãƒã‚¤ãƒ³ãƒˆã‚’ã”ç¢ºèªãã ã•ã„ï¼š

**1. æ—©æœŸã®çŠ¶æ³æŠŠæ¡**
- é…å»¶ã®å¯èƒ½æ€§ã‚’æ„Ÿã˜ãŸã‚‰ã€ã™ãã«å…¨ä½“ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç¢ºèª
- ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã¨ã®é€²æ—ç¢ºèªã‚’å¯†ã«è¡Œã†

**2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸ã®é€£çµ¡**
- é…å»¶ã®å¯èƒ½æ€§ãŒã‚ã‚‹å ´åˆã¯ã€æ—©ã‚ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ç›¸è«‡
- ä»£æ›¿æ¡ˆã‚’å¿…ãšæç¤ºï¼ˆéƒ¨åˆ†ç´å“ã€å„ªå…ˆé †ä½ã®èª¿æ•´ãªã©ï¼‰

**3. å¯¾ç­–ã®å®Ÿæ–½**
- è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹ã®æ¤œè¨
- ã‚¹ã‚³ãƒ¼ãƒ—ã®èª¿æ•´ææ¡ˆ
- ãƒãƒƒãƒ•ã‚¡ã‚’å«ã‚ãŸãƒªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

è©³ç´°ã¯ã€Œãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã€ã®ãƒšãƒ¼ã‚¸ã‚‚ã”å‚ç…§ãã ã•ã„ã€‚`
            },
            'ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼': {
                keywords: ['ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼', 'é€£æº', 'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³', 'ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯'],
                response: `ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã¨ã®åŠ¹æœçš„ãªé€£æºã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ï¼š

**1. æ˜ç¢ºãªæŒ‡ç¤º**
- è¦ä»¶ã‚’å…·ä½“çš„ã«æ–‡æ›¸åŒ–
- å‚è€ƒã‚¤ãƒ¡ãƒ¼ã‚¸ã‚„äº‹ä¾‹ã‚’å…±æœ‰
- å„ªå…ˆé †ä½ã‚’æ˜ç¢ºã«ä¼ãˆã‚‹

**2. å®šæœŸçš„ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**
- é€²æ—ç¢ºèªã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’äº‹å‰ã«æ±ºã‚ã‚‹
- è³ªå•ã—ã‚„ã™ã„ç’°å¢ƒã¥ãã‚Š
- æ„Ÿè¬ã®æ°—æŒã¡ã‚’å¿˜ã‚Œãšã«

**3. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®æ–¹æ³•**
- è‰¯ã„ç‚¹ã‚’å…ˆã«ä¼ãˆã‚‹
- æ”¹å–„ç‚¹ã¯å…·ä½“çš„ã«
- ä¸€ç·’ã«è§£æ±ºç­–ã‚’è€ƒãˆã‚‹å§¿å‹¢

ã€Œã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰ã€ã®ãƒšãƒ¼ã‚¸ã«è©³ã—ã„æƒ…å ±ãŒã‚ã‚Šã¾ã™ã€‚`
            },
            'å“è³ª': {
                keywords: ['å“è³ª', 'ãƒã‚§ãƒƒã‚¯', 'ã‚¯ã‚ªãƒªãƒ†ã‚£', 'ç¢ºèª'],
                response: `å“è³ªãƒã‚§ãƒƒã‚¯ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆã‚’ã”ç´¹ä»‹ã—ã¾ã™ï¼š

**1. ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã®æ´»ç”¨**
âœ… ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã¨ã®æ•´åˆæ€§
âœ… èª¤å­—è„±å­—ã®ç¢ºèª
âœ… ç”»åƒã®è§£åƒåº¦ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
âœ… ãƒªãƒ³ã‚¯ã®å‹•ä½œç¢ºèª
âœ… ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œï¼ˆWebã®å ´åˆï¼‰

**2. æ®µéšçš„ãªãƒ¬ãƒ“ãƒ¥ãƒ¼**
- ãƒ©ãƒ•æ®µéšã§ã®æ–¹å‘æ€§ç¢ºèª
- ä¸­é–“ãƒã‚§ãƒƒã‚¯ã§ã®è©³ç´°ç¢ºèª
- æœ€çµ‚ãƒã‚§ãƒƒã‚¯ã§ã®ç·åˆç¢ºèª

**3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¦–ç‚¹**
- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç«‹å ´ã§ç¢ºèª
- ç«¶åˆä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–ãƒã‚¤ãƒ³ãƒˆ
- ãƒ“ã‚¸ãƒã‚¹ç›®æ¨™ã¨ã®æ•´åˆæ€§

è©³ã—ãã¯ã€Œå“è³ªç®¡ç†ã€ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã”è¦§ãã ã•ã„ã€‚`
            }
        };
        
        function findBestResponse(input) {
            const lowerInput = input.toLowerCase();
            
            for (const [key, data] of Object.entries(aiResponses)) {
                for (const keyword of data.keywords) {
                    if (lowerInput.includes(keyword)) {
                        return data.response;
                    }
                }
            }
            
            return `ã”è³ªå•ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ã€Œ${input}ã€ã«ã¤ã„ã¦ã€ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’ç¢ºèªã—ã¦ã„ã¾ã™ã€‚

ç¾åœ¨ã€ã“ã®è³ªå•ã«å¯¾ã™ã‚‹å…·ä½“çš„ãªå›ç­”ã‚’æº–å‚™ä¸­ã§ã™ã€‚ä»¥ä¸‹ã®é–¢é€£ãƒšãƒ¼ã‚¸ã‚’ã”ç¢ºèªã„ãŸã ãã‹ã€ã‚ˆã‚Šå…·ä½“çš„ãªçŠ¶æ³ã‚’ãŠæ•™ãˆã„ãŸã ã‘ã¾ã™ã§ã—ã‚‡ã†ã‹ï¼š

- [åŸºæœ¬æƒ…å ±](../../../test_output/basic-info.html)
- [ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰](../../../test_output/communication.html)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](../../../test_output/troubleshooting.html)

ã¾ãŸã€[æ”¹å–„ææ¡ˆãƒ•ã‚©ãƒ¼ãƒ ](../../feedback_system/form_template/feedback_page.html)ã‹ã‚‰ã€ã“ã®è³ªå•ã‚’è¿½åŠ ã—ã¦ã»ã—ã„ã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã„ãŸã ãã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚`;
        }
        
        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
            addMessage(message, 'user');
            
            // å…¥åŠ›æ¬„ã‚’ã‚¯ãƒªã‚¢
            input.value = '';
            
            // ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’è¡¨ç¤º
            showTypingIndicator();
            
            // AIã®å¿œç­”ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯å¤–éƒ¨APIå‘¼ã³å‡ºã—ï¼‰
            setTimeout(() => {
                hideTypingIndicator();
                const response = findBestResponse(message);
                addMessage(response, 'ai');
            }, 1000 + Math.random() * 1000);
        }
        
        function addMessage(text, sender) {
            const messagesDiv = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            
            const avatarDiv = document.createElement('div');
            avatarDiv.className = 'message-avatar';
            avatarDiv.textContent = sender === 'user' ? 'You' : 'AI';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.innerHTML = text.replace(/\n/g, '<br>');
            
            messageDiv.appendChild(avatarDiv);
            messageDiv.appendChild(contentDiv);
            messagesDiv.appendChild(messageDiv);
            
            // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’æœ€ä¸‹éƒ¨ã«
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        function askQuestion(question) {
            document.getElementById('userInput').value = question;
            sendMessage();
        }
        
        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }
        
        function showTypingIndicator() {
            document.getElementById('typingIndicator').classList.add('show');
        }
        
        function hideTypingIndicator() {
            document.getElementById('typingIndicator').classList.remove('show');
        }
    </script>
</body>
</html>